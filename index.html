<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <meta name="theme-color" content="#020813" />
  <title>是々日々 - 日記 / 予定 / 調整</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png" />
  <link rel="apple-touch-icon" href="icon-512.png" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <!-- ヘッダー -->
    <header class="app-header">
      <div>
        <div class="app-title-main">是々日々</div>
        <div class="app-title-sub">
          日々を静かに整える、個人用カレンダー＆日記
        </div>
      </div>
      <div class="app-header-right">
        <div id="todayBadge" class="app-title-sub"></div>
        <button id="btnSettingsShortcut" class="icon-gear">⚙</button>
      </div>
    </header>

    <!-- タブごとの画面 -->

    <!-- ① ホーム（日記カレンダー） -->
    <main>
      <section id="screen-home" class="screen active">
        <div class="panel">
          <div class="month-header">
            <button
              class="month-nav-btn"
              id="btnPrevMonth"
              type="button"
            >‹</button>
            <strong id="labelMonth"></strong>
            <button
              class="month-nav-btn"
              id="btnNextMonth"
              type="button"
            >›</button>
          </div>

          <div class="weekdays">
            <div>日</div><div>月</div><div>火</div><div>水</div>
            <div>木</div><div>金</div><div>土</div>
          </div>

          <div id="calGrid" class="calendar-grid"></div>
        </div>
      </section>

      <!-- ② 予定（簡易版。必要に応じて拡張してOK） -->
      <section id="screen-schedule" class="screen">
        <div class="panel">
          <h3 style="margin:0 0 6px;font-size:15px">予定一覧</h3>
          <div id="scheduleList" class="list small-text">
            （ここに日記とは別の予定を表示できます）
          </div>
        </div>
      </section>

      <!-- ③ 検索 -->
      <section id="screen-search" class="screen">
        <div class="panel">
          <h3 style="margin:0 0 6px;font-size:15px">検索</h3>
          <input
            id="searchInput"
            type="text"
            placeholder="キーワード（タイトル・本文）"
            class="editor-input"
            style="margin-bottom:8px"
          />
          <div id="searchResult" class="list small-text"></div>
        </div>
      </section>

      <!-- ④ スケジュール調整（プレースホルダ） -->
      <section id="screen-coord" class="screen">
        <div class="panel">
          <h3 style="margin:0 0 6px;font-size:15px">スケジュール調整</h3>
          <p class="app-title-sub">
            将来的に、帯カレンダーや共有候補リストをここに配置できます。
          </p>
        </div>
      </section>

      <!-- ⑤ 設定（インポート／エクスポート） -->
      <section id="screen-settings" class="screen">
        <div class="panel">
          <h3 style="margin:0 0 6px;font-size:15px">設定</h3>

          <div class="app-title-sub" style="margin-bottom:6px">
            データのバックアップ & 移行
          </div>

          <button id="btnExportJSON" class="btn-primary" type="button">
            データをエクスポート（JSONを表示）
          </button>

          <textarea
            id="exportOutput"
            class="editor-textarea"
            placeholder="エクスポート結果（読み取り専用）"
            style="margin-top:6px;min-height:120px"
          ></textarea>

          <div style="margin-top:10px" class="app-title-sub">
            JSONファイルからインポート（※既存データに上書き）
          </div>
          <input
            id="importFile"
            type="file"
            accept="application/json"
            style="margin:4px 0 6px"
          />
          <button id="btnImportJSON" class="btn-danger" type="button">
            インポートを実行
          </button>

          <p class="app-title-sub" style="margin-top:8px">
            ※ブラウザ／PWAのローカルストレージに保存しており、<br />
            アップデートしても基本的に消えません。
          </p>
        </div>
      </section>
    </main>
  </div>

  <!-- 下タブバー -->
  <nav class="tabbar">
    <button class="tab-btn active" data-target="screen-home" type="button">
      <span class="icon">月</span>
      日記
    </button>
    <button class="tab-btn" data-target="screen-schedule" type="button">
      <span class="icon">📅</span>
      予定
    </button>
    <button class="tab-btn" data-target="screen-search" type="button">
      <span class="icon">🔍</span>
      検索
    </button>
    <button class="tab-btn" data-target="screen-coord" type="button">
      <span class="icon">⇔</span>
      調整
    </button>
    <button class="tab-btn" data-target="screen-settings" type="button">
      <span class="icon">⚙</span>
      設定
    </button>
  </nav>

  <!-- 記帳用フルスクリーン画面 -->
  <div id="editorScreen" class="editor-screen">
    <div class="editor-header">
      <button id="btnEditorBack" type="button">‹</button>
      <div>
        <div class="editor-header-title">是々日々 / 日記編集</div>
        <div id="editorDate" class="editor-date"></div>
      </div>
    </div>

    <input
      id="editorTitle"
      class="editor-input"
      placeholder="タイトル"
    />

    <textarea
      id="editorBody"
      class="editor-textarea"
      placeholder="今日のこと、気づき、メモなど"
    ></textarea>

    <div class="editor-actions">
      <button id="btnDeleteEntry" class="btn-danger" type="button">
        削除
      </button>
      <button id="btnSaveEntry" class="btn-primary" type="button">
        保存して戻る
      </button>
    </div>
  </div>

  <!-- JS -->
  <script src="app.js" defer></script>
</body>
</html>
