<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#f3f5fb" />
  <title>是々日々</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png" />
  <link rel="apple-touch-icon" href="icon-512.png" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <!-- ヘッダー（テキスト削除版） -->
    <header class="app-header">
      <div class="app-header-left">
        <!-- 必要ならロゴだけここに：例）<div class="logo-dot"></div> -->
      </div>
      <div class="app-header-right">
        <div id="todayBadge" class="today-badge"></div>
        <button id="btnSettingsShortcut" class="icon-gear" type="button">⚙</button>
      </div>
    </header>

    <!-- 画面群 -->
    <main>
      <!-- ① 日記カレンダー -->
      <section id="screen-home" class="screen active">
        <div class="panel panel-calendar">
          <div class="month-header">
            <button class="month-nav-btn" id="btnPrevMonth" type="button">‹</button>
            <strong id="labelMonth"></strong>
            <button class="month-nav-btn" id="btnNextMonth" type="button">›</button>
          </div>

          <div class="weekdays">
            <div>日</div><div>月</div><div>火</div><div>水</div>
            <div>木</div><div>金</div><div>土</div>
          </div>

          <div id="calGrid" class="calendar-grid"></div>
        </div>
      </section>

      <!-- ② 予定（プレースホルダ） -->
      <section id="screen-schedule" class="screen">
        <div class="panel">
          <h3 class="panel-title">予定一覧</h3>
          <div id="scheduleList" class="list small-text">
            （今後の拡張用スペース）
          </div>
        </div>
      </section>

      <!-- ③ 検索 -->
      <section id="screen-search" class="screen">
        <div class="panel">
          <h3 class="panel-title">検索</h3>
          <input
            id="searchInput"
            type="text"
            placeholder="キーワード（タイトル・本文）"
            class="editor-input"
          />
          <div id="searchResult" class="list small-text" style="margin-top:8px"></div>
        </div>
      </section>

      <!-- ④ スケジュール調整（プレースホルダ） -->
      <section id="screen-coord" class="screen">
        <div class="panel">
          <h3 class="panel-title">スケジュール調整</h3>
          <p class="small-text">
            帯カレンダーや候補時間共有などを将来的に配置する想定エリア。
          </p>
        </div>
      </section>

      <!-- ⑤ 設定（インポート／エクスポート） -->
      <section id="screen-settings" class="screen">
        <div class="panel">
          <h3 class="panel-title">設定</h3>

          <div class="small-text">データのバックアップ & 移行</div>
          <button id="btnExportJSON" class="btn-primary" type="button">
            データをエクスポート（JSONを表示）
          </button>
          <textarea
            id="exportOutput"
            class="editor-textarea"
            placeholder="エクスポート結果"
            style="margin-top:6px;min-height:120px"
          ></textarea>

          <div class="small-text" style="margin-top:10px">
            JSONファイルからインポート（既存データに上書き）
          </div>
          <input
            id="importFile"
            type="file"
            accept="application/json"
            style="margin:4px 0 6px"
          />
          <button id="btnImportJSON" class="btn-danger" type="button">
            インポートを実行
          </button>

          <p class="small-text" style="margin-top:8px">
            データは端末内（ローカルストレージ）に保存されます。<br />
            バージョン更新では基本的に消えませんが、念のため定期的にエクスポート推奨です。
          </p>
        </div>
      </section>
    </main>
  </div>

  <!-- 下タブバー（大きめタップ領域） -->
  <nav class="tabbar">
    <button class="tab-btn active" data-target="screen-home" type="button">
      <span class="icon">📘</span>
      <span class="label">日記</span>
    </button>
    <button class="tab-btn" data-target="screen-schedule" type="button">
      <span class="icon">📅</span>
      <span class="label">予定</span>
    </button>
    <button class="tab-btn" data-target="screen-search" type="button">
      <span class="icon">🔍</span>
      <span class="label">検索</span>
    </button>
    <button class="tab-btn" data-target="screen-coord" type="button">
      <span class="icon">⇔</span>
      <span class="label">調整</span>
    </button>
    <button class="tab-btn" data-target="screen-settings" type="button">
      <span class="icon">⚙</span>
      <span class="label">設定</span>
    </button>
  </nav>

  <!-- 記帳用フルスクリーン画面 -->
  <div id="editorScreen" class="editor-screen">
    <div class="editor-header">
      <button id="btnEditorBack" type="button">‹</button>
      <div>
        <div class="editor-header-title">日記編集</div>
        <div id="editorDate" class="editor-date"></div>
      </div>
    </div>

    <!-- 起床・食事 -->
    <div class="meal-block">
      <label>起床
        <input id="editorWake" type="time" />
      </label>
      <label>朝
        <input id="editorBreakfast" type="text" placeholder="朝食" />
      </label>
      <label>昼
        <input id="editorLunch" type="text" placeholder="昼食" />
      </label>
      <label>夜
        <input id="editorDinner" type="text" placeholder="夕食" />
      </label>
    </div>

    <input
      id="editorTitle"
      class="editor-input"
      placeholder="タイトル"
    />
    <textarea
      id="editorBody"
      class="editor-textarea"
      placeholder="今日のこと、気づき、メモなど"
    ></textarea>

    <div class="editor-actions">
      <button id="btnDeleteEntry" class="btn-danger" type="button">削除</button>
      <button id="btnSaveEntry" class="btn-primary" type="button">保存して戻る</button>
    </div>
  </div>

  <!-- JS（前回の app.js そのまま利用OK） -->
  <script src="app.js" defer></script>
</body>
</html>
