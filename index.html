<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <!-- ズーム抑制＆iPhone向け -->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"
  />
  <title>是々日々 – カレンダー日記</title>

  <meta name="theme-color" content="#02040a" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-root">
    <!-- ヘッダー -->
    <header class="top-bar">
      <div class="top-title">是々日々</div>
      <div class="top-today" id="todayLabel"></div>
    </header>

    <!-- メイン -->
    <main class="main-area">
      <!-- カレンダー画面 -->
      <section id="screen-calendar" class="screen screen-active">
        <div class="month-header">
          <button id="btnPrevMonth" class="nav-btn" type="button" aria-label="前の月">&lt;</button>
          <div class="month-label" id="monthLabel"></div>
          <button id="btnNextMonth" class="nav-btn" type="button" aria-label="次の月">&gt;</button>
        </div>

        <div class="weekday-row">
          <div class="wd sun">日</div>
          <div class="wd">月</div>
          <div class="wd">火</div>
          <div class="wd">水</div>
          <div class="wd">木</div>
          <div class="wd">金</div>
          <div class="wd sat">土</div>
        </div>

        <!-- びっしりカレンダー -->
        <div id="calendarGrid" class="calendar-grid" aria-label="月カレンダー"></div>

        <!-- 選択日の簡易サマリ -->
        <div class="day-summary" id="daySummary">
          <span class="badge" id="summaryDate">—</span>
          <div id="summaryText">日付をタップするとここにタイトルが表示されます。</div>
        </div>
      </section>

      <!-- 新規作成 / 編集画面 -->
      <section id="screen-edit" class="screen">
        <div class="section-header">
          <h2 id="editHeaderTitle">日記</h2>
          <button id="btnBackToCalendar" class="sub-btn" type="button">カレンダーへ</button>
        </div>

        <div class="editor-panel">
          <label class="field-label">
            日付
            <input type="date" id="editDate" />
          </label>

          <label class="field-label">
            タイトル
            <input type="text" id="editTitle" placeholder="タイトル" />
          </label>

          <div class="grid-2">
            <label class="field-label">
              起床時間
              <input type="time" id="editWake" />
            </label>
            <label class="field-label">
              メモ（朝食など）
              <input type="text" id="editBreakfast" placeholder="朝食 / 簡易メモ" />
            </label>
          </div>

          <label class="field-label">
            本文
            <textarea id="editBody" rows="10" placeholder="一日の出来事や気づきを書き残す"></textarea>
          </label>

          <div class="modal-actions">
            <button id="btnDeleteEntry" class="danger-btn" type="button">削除</button>
            <div class="flex-spacer"></div>
            <button id="btnSaveEntry" class="primary-btn" type="button">保存</button>
          </div>

          <div class="save-status" id="saveStatus">　</div>
        </div>
      </section>

      <!-- 検索画面 -->
      <section id="screen-search" class="screen">
        <div class="section-header">
          <h2>検索</h2>
        </div>
        <div class="search-panel">
          <input
            id="searchInput"
            class="search-input"
            type="text"
            placeholder="キーワード（タイトル・本文・メモ）"
          />
        </div>
        <div class="search-results" id="searchResults"></div>
      </section>

      <!-- 設定画面 -->
      <section id="screen-settings" class="screen">
        <div class="section-header">
          <h2>設定</h2>
        </div>

        <div class="settings-group">
          <h3>アカウント</h3>
          <p class="settings-text">※ 今はローカル保存のみ。将来 Google ログインで同期予定。</p>
          <button id="btnMockLogin" class="sub-btn" type="button">（今はダミー）Googleログイン</button>
        </div>

        <div class="settings-group">
          <h3>データ エクスポート</h3>
          <p class="settings-text">
            端末にバックアップ用のファイル（JSON形式）を保存します。別端末に移したいときにも使えます。
          </p>
          <button id="btnExport" class="primary-btn" type="button">エクスポート</button>
        </div>

        <div class="settings-group">
          <h3>データ インポート</h3>
          <p class="settings-text">
            エクスポートした JSON ファイルを読み込んで、日記を復元します。<br />
            同じ日付のデータは「上書き」、それ以外はそのまま残ります（②C の仕様）。
          </p>
          <input type="file" id="importFile" accept="application/json" />
        </div>

        <div class="settings-group">
          <h3>アプリ情報</h3>
          <p class="settings-text">
            是々日々 – 日々を静かに整えるための、カレンダー型日記アプリ。<br />
            データは端末内（localStorage）に保存されます。
          </p>
        </div>
      </section>
    </main>

    <!-- 下タブバー -->
    <nav class="tab-bar" aria-label="メインタブ">
      <button class="tab-btn tab-active" data-screen="calendar" type="button">カレンダー</button>
      <button class="tab-btn" data-screen="edit" type="button">新規作成</button>
      <button class="tab-btn" data-screen="search" type="button">検索</button>
      <button class="tab-btn" data-screen="settings" type="button">設定</button>
    </nav>
  </div>

  <script src="app.js"></script>
</body>
</html>
